import { Message } from "../../../src/app/chat/shared/model/message";
import pdfMake from 'pdfmake/build/pdfmake';
import pdfFonts from "pdfmake/build/vfs_fonts";
import { Action } from "src/app/chat/shared/model/action";
pdfMake.vfs = pdfFonts.pdfMake.vfs;
let dd={}

export class PdfMake{
  messages: Message[] = [];

  constructor(messages:Message[]){
    this.messages = messages
    this.initData()
  }

  initData(){

   var  messages :string[] = [];

   this.messages.forEach(message=>{

    if(message.content!=undefined && message.action != Action.RENAME){
      console.dir(message)
      messages.push("["+message.time+" "+message.from.name+"] "+message.content) //normal chat
    }else{
      var action = message.action
      var text="";
      var name=""
      switch(action){
        case Action.JOINED:
          text=message.from.name +" joined the Chat!"
          name=message.from.name
        break;
        case Action.MEDIA:
          text = message.from.name+" sent a Media content wit following URL : " +message.content
          name=message.from.name
        break;
        case Action.RENAME:
          text = message.content.previousUsername+" changed their name to "+message.content.username
          name = message.content.previousUsername
        break;
      }
      messages.push("["+message.time+" "+name+"] "+text) //any action --> joining ,sending media, renaming
    }
   })

  var gap =     {
    text: ' ',
    style: 'header',
  }

   //the content pretty small actually
    dd ={
      content:[
          // chris chat image
          {
            image: 'data:image/png;base64,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',
            width: 200,
            style: 'right'
        },
        this.downloadStats(),
        gap,
        {canvas: [ { type: 'line', x1: 0, y1: 0, x2: 515, y2: 0, lineWidth: 1 } ]}, //the line
        gap,
        {
          text: ' ',
        },
        messages // all the messages
      ],
      styles:{
        right:{
          alignment:'right'
        }
      }
    }
  }


  downloadStats(){

    var d = new Date();
    var n = d.toLocaleTimeString();
    n = n.substring(0,n.length-3)
    var realAmount=0
    this.messages.forEach(m=>{
      if(m.action===undefined)
        realAmount++;
    })

      var data = [
        {
          text: "Download Time: "+n,
          style: 'header',
        },
        {
          text: "Total Lines: "+this.messages.length,
          style: 'header',
        },
        {
          text: "Messages: "+realAmount,
          style: 'header',
        },
      ]

      return data;

  }

  create(){
    return pdfMake.createPdf(dd);
  }

  download(){
   this.create().download("Chat.pdf");
  }
}
